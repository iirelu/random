<!doctype html>
<html>
<head>
<title>noise</title>
</head>
<body>

<p>volume:</p>
<input type="range" min="0" max="1" value="0.5" step=0.01 id="volume">

<script>

var ctx = new AudioContext();
var noise = ctx.createScriptProcessor(2048, 1, 1);
noise.onaudioprocess = function(e) {
  var output = e.outputBuffer.getChannelData(0);
  for(var i = 0; i < 2048; i++) {
    output[i] = Math.random()*2 - 1;
  }
}
var lowpass = ctx.createBiquadFilter();
var gain = ctx.createGain();
gain.gain.value = 0.5;

noise.connect(lowpass);
lowpass.connect(gain);
gain.connect(ctx.destination);

document.getElementById("volume").addEventListener("input", function(e) {
  gain.gain.value = e.target.value;
});

// NO
// noise.connect(ctx.destination);

</script>
</body>
</html>
